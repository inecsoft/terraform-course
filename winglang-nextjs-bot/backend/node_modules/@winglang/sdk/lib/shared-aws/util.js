"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isValidArn = void 0;
function isValidArn(arn, service) {
    // eslint-disable-next-line @typescript-eslint/no-require-imports
    const { Token } = require("cdktf");
    // if the ARN is an unresolved token, we can't validate it so assume it's valid
    if (Token.isUnresolved(arn)) {
        return true;
    }
    // ARN format: arn:partition:service:region:account-id:resource-type?:resource
    // e.g. arn:aws:lambda:us-east-1:111111111111:function:Function-11111111
    // or,  arn:aws:sqs:us-east-1:111111111111:Queue-11111111
    const parts = arn.split(":");
    if (parts.length < 6 || parts.length > 7) {
        return false;
    }
    if (parts[0] !== "arn") {
        return false;
    }
    if (parts[2] !== service) {
        return false;
    }
    return true;
}
exports.isValidArn = isValidArn;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zaGFyZWQtYXdzL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsU0FBZ0IsVUFBVSxDQUFDLEdBQVcsRUFBRSxPQUFlO0lBQ3JELGlFQUFpRTtJQUNqRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRW5DLCtFQUErRTtJQUMvRSxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUM1QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCw4RUFBOEU7SUFDOUUsd0VBQXdFO0lBQ3hFLHlEQUF5RDtJQUN6RCxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUN6QyxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FBQztRQUN2QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxPQUFPLEVBQUUsQ0FBQztRQUN6QixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUExQkQsZ0NBMEJDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRBcm4oYXJuOiBzdHJpbmcsIHNlcnZpY2U6IHN0cmluZykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0c1xuICBjb25zdCB7IFRva2VuIH0gPSByZXF1aXJlKFwiY2RrdGZcIik7XG5cbiAgLy8gaWYgdGhlIEFSTiBpcyBhbiB1bnJlc29sdmVkIHRva2VuLCB3ZSBjYW4ndCB2YWxpZGF0ZSBpdCBzbyBhc3N1bWUgaXQncyB2YWxpZFxuICBpZiAoVG9rZW4uaXNVbnJlc29sdmVkKGFybikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFSTiBmb3JtYXQ6IGFybjpwYXJ0aXRpb246c2VydmljZTpyZWdpb246YWNjb3VudC1pZDpyZXNvdXJjZS10eXBlPzpyZXNvdXJjZVxuICAvLyBlLmcuIGFybjphd3M6bGFtYmRhOnVzLWVhc3QtMToxMTExMTExMTExMTE6ZnVuY3Rpb246RnVuY3Rpb24tMTExMTExMTFcbiAgLy8gb3IsICBhcm46YXdzOnNxczp1cy1lYXN0LTE6MTExMTExMTExMTExOlF1ZXVlLTExMTExMTExXG4gIGNvbnN0IHBhcnRzID0gYXJuLnNwbGl0KFwiOlwiKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA8IDYgfHwgcGFydHMubGVuZ3RoID4gNykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChwYXJ0c1swXSAhPT0gXCJhcm5cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChwYXJ0c1syXSAhPT0gc2VydmljZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIl19