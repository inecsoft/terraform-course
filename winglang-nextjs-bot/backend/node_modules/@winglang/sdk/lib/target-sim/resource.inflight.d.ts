import { IResourceClient } from "./resource";
import { SimResourceAttributes, SimResourceSchema } from "./schema-resources";
import { ISimulatorContext, ISimulatorResourceInstance, UpdatePlan } from "../simulator";
import { Json } from "../std";
export declare class Resource implements IResourceClient, ISimulatorResourceInstance {
    private _context;
    private readonly sourceCodeFile;
    private resolvedSourceCodeFile;
    private sandbox;
    private bundle;
    private readonly timeout;
    constructor(props: SimResourceSchema);
    private get context();
    private createBundle;
    init(context: ISimulatorContext): Promise<SimResourceAttributes>;
    cleanup(): Promise<void>;
    save(): Promise<void>;
    plan(invalidated: boolean): Promise<UpdatePlan>;
    call(method: string, args?: Array<Json>): Promise<Json>;
    private formatCallMessage;
    private addTrace;
}
