"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateEnvironment = void 0;
// Copyright (c) HashiCorp, Inc
// SPDX-License-Identifier: MPL-2.0
const constructs_1 = require("constructs");
const errors_1 = require("./errors");
/**
 * fails early if the environment contains e.g. invalid version combinations
 */
function validateEnvironment() {
    validateConstructsIsV10();
}
exports.validateEnvironment = validateEnvironment;
/**
 * fails early if the environment contains e.g. invalid version combinations
 * for constructs
 */
function validateConstructsIsV10() {
    const construct = new constructs_1.Construct(null, "test");
    // construct.node was added in v10
    if (typeof construct.node === "undefined") {
        throw (0, errors_1.constructDependencyBelowV10)();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGVFbnZpcm9ubWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInZhbGlkYXRlRW52aXJvbm1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsK0JBQStCO0FBQy9CLG1DQUFtQztBQUNuQywyQ0FBdUM7QUFDdkMscUNBQXVEO0FBRXZEOztHQUVHO0FBQ0gsU0FBZ0IsbUJBQW1CO0lBQ2pDLHVCQUF1QixFQUFFLENBQUM7QUFDNUIsQ0FBQztBQUZELGtEQUVDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyx1QkFBdUI7SUFDOUIsTUFBTSxTQUFTLEdBQUcsSUFBSSxzQkFBUyxDQUFDLElBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNyRCxrQ0FBa0M7SUFDbEMsSUFBSSxPQUFPLFNBQVMsQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFLENBQUM7UUFDMUMsTUFBTSxJQUFBLG9DQUEyQixHQUFFLENBQUM7SUFDdEMsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIEhhc2hpQ29ycCwgSW5jXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTVBMLTIuMFxuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSBcImNvbnN0cnVjdHNcIjtcbmltcG9ydCB7IGNvbnN0cnVjdERlcGVuZGVuY3lCZWxvd1YxMCB9IGZyb20gXCIuL2Vycm9yc1wiO1xuXG4vKipcbiAqIGZhaWxzIGVhcmx5IGlmIHRoZSBlbnZpcm9ubWVudCBjb250YWlucyBlLmcuIGludmFsaWQgdmVyc2lvbiBjb21iaW5hdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW52aXJvbm1lbnQoKSB7XG4gIHZhbGlkYXRlQ29uc3RydWN0c0lzVjEwKCk7XG59XG5cbi8qKlxuICogZmFpbHMgZWFybHkgaWYgdGhlIGVudmlyb25tZW50IGNvbnRhaW5zIGUuZy4gaW52YWxpZCB2ZXJzaW9uIGNvbWJpbmF0aW9uc1xuICogZm9yIGNvbnN0cnVjdHNcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVDb25zdHJ1Y3RzSXNWMTAoKSB7XG4gIGNvbnN0IGNvbnN0cnVjdCA9IG5ldyBDb25zdHJ1Y3QobnVsbCBhcyBhbnksIFwidGVzdFwiKTtcbiAgLy8gY29uc3RydWN0Lm5vZGUgd2FzIGFkZGVkIGluIHYxMFxuICBpZiAodHlwZW9mIGNvbnN0cnVjdC5ub2RlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgY29uc3RydWN0RGVwZW5kZW5jeUJlbG93VjEwKCk7XG4gIH1cbn1cbiJdfQ==