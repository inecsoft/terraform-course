"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.exportAnalytics = void 0;
const child_process_1 = require("child_process");
async function exportAnalytics(filePath) {
    const awaitedFilePath = await filePath;
    if (!awaitedFilePath || process.env.WING_DISABLE_ANALYTICS) {
        return;
    }
    const child = (0, child_process_1.spawn)(process.execPath, [require.resolve("./scripts/detached-export"), awaitedFilePath], {
        detached: true,
        stdio: "ignore",
        windowsHide: true,
        env: {
            ...process.env,
        },
    });
    child.unref();
}
exports.exportAnalytics = exportAnalytics;
//# sourceMappingURL=export.js.map